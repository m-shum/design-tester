@use './_breakpoints.scss' as *;

:root {
  --margins: calc(var(--base-margin) * 2);
  --total-gutters: calc(var(--grid-gutter) * (var(--grid-cols) - 1));
  --col-width: calc(
    (var(--container-width) - var(--total-gutters) - var(--margins)) /
      var(--grid-cols)
  ); // Omit margins if base-width excludes them

  @include use-mq('max-xs') {
    --grid-cols: 1;
  }
  @include use-mq('min-sm') {
    --grid-cols: 4;
  }
  @include use-mq('min-lg') {
    --grid-cols: 6;
  }
  @include use-mq('min-xxl') {
    --grid-cols: 8;
  }
}

@mixin get-cols($col-count) {
  & {
    width: calc(
      $col-count * var(--col-width) + (($col-count - 1) * var(--grid-gutter))
    );
  }
}
